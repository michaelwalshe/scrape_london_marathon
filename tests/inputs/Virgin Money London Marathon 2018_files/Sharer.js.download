/*
 * ....................NNN..NNN................................
 * ....................NNN..NNN................................
 * .........................NNN............. ..................
 * .NNNNNNNNNNNNNNNN...NNN..NNN..NNNN.. NNNNNNNNNN..NNN........
 * .NNN ..ZNNN,...NNN .NNN..NNN.NNN:...NNN .. NNNN. NNN........
 * .NNM....NNN....NNN..NNN..NNNNNN....NNN......NNN.............
 * .NNN....NNN....NNN..NNN..NNNNNNN...NNN......NNN.............
 * .NNN....NNN....NNN..NNN..NNN..NNN ..NNN .. NNNN.............
 * .NNN....NNN....NNN..NNN..NNN...NNN..ONNNNNNNNNN..NNN........
 * .NNN....NNN....NNN..MNN..NNN....NNN7...NNN .NND. NNM........
 * ............................................................
 * NNNNNN. NNN..NNDDNNNN 8NNNNN... NNN .NN=NNNNN......NNNNN.NNN
 * NNNNNN..NNN..NNNNDNNNNNNNNNNN,. NNN..NNNNNMNNN...NNNNNNNNNNN
 * .NNN....NNN..NNN....NNN.. .NNN. NNN..NND....NNN.MNN ....MNNN
 * .NNN....NNN..NNN....NNN....NNN. NNN..NNN....NNN.NNN......NNN
 * .NNN....NNN..NNN....NNN....NNN. NNN..NNN....NNN.NNN ....DNNN
 * .NNNNN..NNN..NNN....NNN....NNN. NNN..NNN....NNN..NNNN .NNNNN
 * ..NNNN..NNN..NNN....NNN....NNN. NNN..NNN....NNN...MNNNNN8NNN
 * .........................................................NN.
 * ................................................?NNN  . NNN.
 * .................................................+NNNNNNNN..
 * .....................................................NN.....
 * @package    Mika
 * @author     Mika Timing GmbH <info@mikatiming.de>
 * @copyright  2021 Mika Timing GmbH
 */

define("Mika/Sharer/Networks/base",["Mika/Logger","Mika/Environment","Mika/Mika","module"],function(e,t,n,r){(new e).info("initialized: "+r.id);var i=new n,o=function(e){this.options=jQuery.extend({},{shareUrl:"javascript:void(0);",networkName:"",networkDisplayName:"",newWindow:!0,attributes:[]},e)};return o.prototype._trackGaEvent=function(){"undefined"!=typeof ga_track&&ga_track.push(["_trackEvent",i.getOption("global_event_id")+"_Features","Shared",this.options.networkName])},o.prototype.buildButton=function(){var e=this,n=document.createElement(this.options.newWindow?"button":"a");n.className="btn btn-block-xs btn-"+this.options.buttonSize+" share-network-"+this.options.networkName;var r=document.createElement("span");n.appendChild(r);var i=document.createElement("img");i.src=this.options.pathSharerIcons+this.options.networkName+".svg",i.width=15,i.height=15,r.appendChild(i);var o=document.createElement("span");if(o.innerHTML=this.options.networkDisplayName,n.appendChild(o),t.isMobile()||jQuery(n).popover({container:"body",placement:"bottom",trigger:"hover focus",content:"share on "+this.options.networkDisplayName}),this.options.newWindow?n.onclick=function(t){t.preventDefault();var n="undefined"!=window.screenLeft?window.screenLeft:screen.left,r="undefined"!=window.screenTop?window.screenTop:screen.top,i=(window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width)/2-320+n,o=(window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height)/2-240+r,a=window.open(e.options.shareUrl,"networkshare","scrollbars=yes,width=640,height=480,top="+o+",left="+i);window.focus&&a.focus(),e._trackGaEvent()}:(n.setAttribute("href",this.options.shareUrl),n.onclick=function(){e._trackGaEvent()}),this.options.attributes.length>0)for(var a in attributes)n.setAttribute(this.options.attributes[a].name,this.options.attributes[a].value);return n},o}),define("Mika/Sharer/Networks/facebook",["Mika/Logger","Mika/Sharer/Networks/base","module"],function(e,t,n){return(new e).info("initialized: "+n.id),function(e){e=jQuery.extend({shareText:""},e);var r=new t(jQuery.extend({},n.config(),e,{shareUrl:"https://www.facebook.com/sharer/sharer.php?quote="+encodeURIComponent(e.shareText)+"&u="+encodeURIComponent(e.shareUrl),networkName:"facebook",networkDisplayName:"facebook"}));return{build:function(){return r.buildButton()}}}}),define("Mika/Sharer/Networks/googleplus",["Mika/Logger","Mika/Sharer/Networks/base","module"],function(e,t,n){return(new e).info("initialized: "+n.id),function(e){var r=new t(jQuery.extend({},n.config(),e,{shareUrl:"https://plus.google.com/share?url="+encodeURIComponent(e.shareUrl),networkName:"googleplus",networkDisplayName:"google+"}));return{build:function(){return r.buildButton()}}}}),define("Mika/Sharer/Networks/twitter",["Mika/Logger","Mika/Sharer/Networks/base","module"],function(e,t,n){return(new e).info("initialized: "+n.id),function(e){e=jQuery.extend({shareText:""},e);var r=new t(jQuery.extend({},n.config(),e,{shareUrl:"https://twitter.com/intent/tweet?text="+encodeURIComponent(e.shareText)+"&url="+encodeURIComponent(e.shareUrl),networkName:"twitter",networkDisplayName:"twitter"}));return{build:function(){return r.buildButton()}}}}),define("Mika/Sharer/Networks/whatsapp",["Mika/Logger","Mika/Environment","Mika/Sharer/Networks/base","module"],function(e,t,n,r){return(new e).info("initialized: "+r.id),function(e){""!=(e=jQuery.extend({shareText:""},e)).shareText&&(e.shareText+=" ");var i=new n(jQuery.extend({},r.config(),e,{shareUrl:"whatsapp://send?text="+encodeURIComponent(e.shareText)+encodeURIComponent(e.shareUrl),networkName:"whatsapp",networkDisplayName:"WhatsApp",newWindow:!1}));return{build:function(){if(t.isMobile())return i.buildButton()}}}}),define("Mika/Sharer/Networks/xing",["Mika/Logger","Mika/Sharer/Networks/base","module"],function(e,t,n){return(new e).info("initialized: "+n.id),function(e){var r=new t(jQuery.extend({},n.config(),e,{shareUrl:"https://www.xing.com/social_plugins/share?url="+encodeURIComponent(e.shareUrl),networkName:"xing",networkDisplayName:"xing"}));return{build:function(){return r.buildButton()}}}}),define("Mika/Sharer/Sharer",["Mika/Logger","module","require","Mika/Sharer/Networks/base","Mika/Sharer/Networks/facebook","Mika/Sharer/Networks/googleplus","Mika/Sharer/Networks/twitter","Mika/Sharer/Networks/whatsapp","Mika/Sharer/Networks/whatsapp","Mika/Sharer/Networks/xing"],function(e,t,n){var r=new e;return r.info("initialized: "+t.id),function(e){var i=jQuery.extend({},{target:"",buttonSize:"m",networks:["facebook","twitter","whatsapp"]},t.config(),e),o=jQuery(i.target)[0];r.info("init sharer with options %o",i);var a=[];for(var s in i.networks)a.push("Mika/Sharer/Networks/"+i.networks[s]);var u=document.createElement("div");u.className="row mika-sharer",o.appendChild(u);var d=document.createElement("div");d.className="col-xs-12",u.appendChild(d),n(a,function(){for(var e in arguments){var t=new(0,arguments[e])(i).build();t&&d.appendChild(t)}})}});